{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/forgit/Hackathons/MLH/mlh-abracadabra/frontend/src/components/Common/Login.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport bcrypt from 'bcryptjs';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\"; // import TextField from 'material-ui/TextField';\n// import getMuiTheme from 'material-ui/styles/getMuiTheme'\n// import MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\n// import Paper from 'material-ui/Paper';\n// import CssBaseline from '@material-ui/core/CssBaseline';\n// import Avatar from '@material-ui/core/Avatar';\n// import Container from '@material-ui/core/Container';\n// import Typography from '@material-ui/core/Typography';\n// import Button from '@material-ui/core/Button';\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: ''\n    };\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.addUser = this.addUser.bind(this);\n  }\n\n  onChangeEmail(event) {\n    this.setState({\n      email: event.target.value\n    });\n  }\n\n  onChangePassword(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  addUser(event) {\n    event.preventDefault();\n    const userAdd = {\n      email: this.state.email,\n      password: this.state.password // type: this.state.type\n\n    };\n    console.log(userAdd);\n    axios.post('http://localhost:4000/user/login', userAdd).then(res => {\n      var temper = bcrypt.compareSync(userAdd.password, res.data.password);\n      console.log(res);\n\n      if (res.data.email === userAdd.email && temper) {\n        alert(\"hii\");\n        localStorage.setItem('user_type', res.data.type);\n        localStorage.setItem('user_name', res.data.name);\n        localStorage.setItem('user_id', res.data._id);\n        localStorage.setItem('isloggedin', true);\n        localStorage.setItem('user_email', res.data.email);\n        this.props.history.push(\"/\");\n        window.location.reload();\n      } else {\n        alert(\"Invalid Password\");\n      }\n    }).catch(err => {\n      alert(\"user not found\");\n      console.log(err);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      style: {\n        marginTop: \"50px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Login Page\"), React.createElement(\"form\", {\n      onSubmit: this.addUser,\n      method: \"user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"email\"), React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: this.onChangeEmail,\n      name: \"name\",\n      value: this.state.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"div\", {\n      className: \"col-sm-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      onChange: this.onChangePassword,\n      name: \"password\",\n      value: this.state.password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        marginLeft: \"0px\"\n      },\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-warning\",\n      style: {\n        marginLeft: \"0px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Login\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: \"/register\",\n      className: \"nav-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Don't have a account? SignUp\"))));\n  }\n\n}","map":{"version":3,"sources":["/Users/macbook/forgit/Hackathons/MLH/mlh-abracadabra/frontend/src/components/Common/Login.js"],"names":["React","Component","axios","bcrypt","BrowserRouter","Router","Route","Link","Login","constructor","props","state","email","password","onChangeEmail","bind","onChangePassword","addUser","event","setState","target","value","preventDefault","userAdd","console","log","post","then","res","temper","compareSync","data","alert","localStorage","setItem","type","name","_id","history","push","window","location","reload","catch","err","render","marginTop","marginLeft"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport bcrypt from 'bcryptjs';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n// import TextField from 'material-ui/TextField';\n// import getMuiTheme from 'material-ui/styles/getMuiTheme'\n// import MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\n// import Paper from 'material-ui/Paper';\n// import CssBaseline from '@material-ui/core/CssBaseline';\n// import Avatar from '@material-ui/core/Avatar';\n// import Container from '@material-ui/core/Container';\n// import Typography from '@material-ui/core/Typography';\n// import Button from '@material-ui/core/Button';\n\n\nexport default class Login extends Component {\n    \n    constructor(props) {\n        super(props);\n\n        this.state = {\n            email: '',\n            password: ''\n        }\n\n        this.onChangeEmail = this.onChangeEmail.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n        this.addUser = this.addUser.bind(this);\n    }\n\n    onChangeEmail(event){\n        this.setState({ email: event.target.value })\n    }\n\n    onChangePassword(event){\n        this.setState({ password: event.target.value })\n    }\n\n    addUser(event) {\n        event.preventDefault();\n        const userAdd = {\n            email: this.state.email,\n            password: this.state.password\n            // type: this.state.type\n        }\n        console.log(userAdd)\n        axios.post('http://localhost:4000/user/login', userAdd)\n        .then(res => { \n            var temper = bcrypt.compareSync(userAdd.password,res.data.password);\n            console.log(res);\n            if (res.data.email===userAdd.email && temper) {\n                alert(\"hii\");\n                localStorage.setItem('user_type', res.data.type);\n                localStorage.setItem('user_name', res.data.name);\n                localStorage.setItem('user_id',res.data._id);\n                localStorage.setItem('isloggedin',true);\n                localStorage.setItem('user_email', res.data.email);\n                this.props.history.push(\"/\");\n                window.location.reload();\n            }\n            else {\n                alert(\"Invalid Password\")\n            }  \n        })\n        .catch(err => { \n            alert(\"user not found\");\n            console.log(err) \n        });\n    }\n\n    render() {\n        return (\n            <div className=\"container\" style={{marginTop: \"50px\"}}>\n                <h2>Login Page</h2>\n                <form onSubmit={this.addUser} method=\"user\">\n                    <div className=\"form-group row\">\n                        <label className=\"col-sm-2 col-form-label text-left\">email</label>\n                        <div className=\"col-sm-10\">\n                            <input type=\"text\" className=\"form-control\" onChange={this.onChangeEmail} name=\"name\" value={this.state.email}/>\n                        </div>\n                    </div>\n                    <div className=\"form-group row\">\n                        <label className=\"col-sm-2 col-form-label text-left\">Password</label>\n                        <div className=\"col-sm-10\">\n                            <input type=\"password\" className=\"form-control\" onChange={this.onChangePassword} name=\"password\" value={this.state.password}/>\n                        </div>\n                    </div>\n                    <hr/>\n                    <div style={{marginLeft: \"0px\"}} className=\"row\">\n                        <button type=\"submit\" className=\"btn btn-warning\" style={{marginLeft: \"0px\"}}>Login</button>\n                    </div>\n                    <div><br></br>\n                    <Link to=\"/register\" className=\"nav-link\">Don't have a account? SignUp</Link>     \n                    </div>\n                </form>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}