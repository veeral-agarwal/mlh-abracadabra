{"ast":null,"code":"var _jsxFileName = \"/home/sahithi/testit/mlh-abracadabra/frontend/src/components/Common/rate_my_employee.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport Button from 'react-bootstrap/esm/Button';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nexport default class Rate_applicant extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      applied_jobs: [],\n      job: [],\n      currentjob: [],\n      idid: '',\n      value: 0,\n      sop: '',\n      lololol: false,\n      status: 'not applied',\n      applicant_data: null,\n      rating: 5\n    }; // this.apply_job = this.apply_job.bind(this);\n\n    this.onChangerating = this.onChangerating.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChangerating(event) {\n    this.setState({\n      rating: event.target.rating\n    });\n  }\n\n  componentDidMount() {\n    console.log(\"ko\");\n    const chunk = {\n      email: this.props.match.params.id // applicant_email: localStorage.getItem(\"user_email\"),\n      // recruiter_email: \n\n    };\n    console.log(this.props.match.params);\n    console.log(chunk);\n    axios.post('http://localhost:4000/router/opop', chunk) //this is unused\n    .then(res => {\n      console.log(\"jii\");\n      var temper = 0;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  async onSubmit(e) {\n    e.preventDefault();\n    console.log(this.props.match.params.id);\n    const chunk = {\n      id: this.props.match.params.id\n    };\n    var veer = true;\n    {\n      const yoyo = {\n        email: this.props.match.params.id,\n        value: this.state.rating\n      };\n      console.log(yoyo);\n      var temp = {\n        applicant_ka_email: this.props.match.params.id\n      };\n      await axios.post('http://localhost:4000/Applicant/get_an_applicant_by_email', temp) //no such route found\n      .then(res => {\n        console.log(res.data);\n        var ratecount = res.data.rate_count;\n        var rate = res.data.rating;\n        var newrating = (rate * ratecount + this.state.rating) / (ratecount + 1);\n        ratecount += 1;\n        var doupdate = {\n          email: this.props.match.params.id,\n          rate_count: ratecount,\n          rating: newrating\n        };\n        this.setState({\n          rating: newrating\n        });\n        axios.post('http://localhost:4000/Applicant/rate_an_applicant', doupdate) //no such route found\n        .then(res => {\n          console.log(res.data); // this.setState({jobs: res.data});\n        }).catch(err => {\n          // if(err.response.data.message)\n          // alert(err.response.data.message);\n          console.log(err);\n        }); // this.setState({jobs: res.data});\n      }).catch(err => {\n        // if(err.response.data.message)\n        // alert(err.response.data.message);\n        console.log(err);\n      }); // this.setState({\n      //     rating:newrating\n      // });\n\n      this.props.history.push('/job-listings');\n    }\n  } // apply_job(e){\n  //     const datadata = {\n  //         applicant_email: localStorage.getItem('user_email'),\n  //         recruiter_email: this.state.job.email_recruiter,\n  //         job_id: this.props.match.params.id,\n  //     }\n  //     const u = this.props.match.params.yoyo;\n  //     console.log(u)\n  // }\n  // componentDidMount() {\n  //     const u = this.props.match.params.yoyo;\n  //     console.log(u)\n  // }\n\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"rate: \"), React.createElement(\"select\", {\n      className: \"form-control\",\n      onChange: this.onChangerating,\n      value: this.state.rating,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"0\"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"1\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"2\"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"3\"), React.createElement(\"option\", {\n      value: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"4\"), React.createElement(\"option\", {\n      value: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"5\"))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"add\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"hii\")));\n  }\n\n}","map":{"version":3,"sources":["/home/sahithi/testit/mlh-abracadabra/frontend/src/components/Common/rate_my_employee.js"],"names":["React","Component","axios","PropTypes","Button","BrowserRouter","Router","Route","Link","Rate_applicant","constructor","props","state","applied_jobs","job","currentjob","idid","value","sop","lololol","status","applicant_data","rating","onChangerating","bind","onSubmit","event","setState","target","componentDidMount","console","log","chunk","email","match","params","id","post","then","res","temper","catch","err","e","preventDefault","veer","yoyo","temp","applicant_ka_email","data","ratecount","rate_count","rate","newrating","doupdate","history","push","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,IAAzC,QAAoD,kBAApD;AAGA,eAAe,MAAMC,cAAN,SAA6BR,SAA7B,CAAuC;AAElDS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,YAAY,EAAC,EADJ;AAETC,MAAAA,GAAG,EAAC,EAFK;AAGTC,MAAAA,UAAU,EAAC,EAHF;AAITC,MAAAA,IAAI,EAAC,EAJI;AAKTC,MAAAA,KAAK,EAAC,CALG;AAMTC,MAAAA,GAAG,EAAC,EANK;AAOTC,MAAAA,OAAO,EAAC,KAPC;AAQTC,MAAAA,MAAM,EAAC,aARE;AASTC,MAAAA,cAAc,EAAC,IATN;AAUTC,MAAAA,MAAM,EAAC;AAVE,KAAb,CAHe,CAef;;AACA,SAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACH;;AAEDD,EAAAA,cAAc,CAACG,KAAD,EAAO;AACjB,SAAKC,QAAL,CAAc;AAACL,MAAAA,MAAM,EAAEI,KAAK,CAACE,MAAN,CAAaN;AAAtB,KAAd;AACH;;AAEDO,EAAAA,iBAAiB,GAAE;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA,UAAMC,KAAK,GAAG;AACVC,MAAAA,KAAK,EAAE,KAAKtB,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC,EADrB,CAEV;AACA;;AAHU,KAAd;AAKAN,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWuB,KAAX,CAAiBC,MAA7B;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACA9B,IAAAA,KAAK,CAACmC,IAAN,CAAW,mCAAX,EAA+CL,KAA/C,EAAuD;AAAvD,KACCM,IADD,CACMC,GAAG,IAAI;AACTT,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACA,UAAIS,MAAM,GAAG,CAAb;AAEH,KALD,EAMCC,KAND,CAMOC,GAAG,IAAI;AACVZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,GAAZ;AACH,KARD;AAUH;;AAED,QAAMjB,QAAN,CAAekB,CAAf,EAAiB;AACbA,IAAAA,CAAC,CAACC,cAAF;AACAd,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC,EAApC;AACA,UAAMJ,KAAK,GAAG;AACVI,MAAAA,EAAE,EAAE,KAAKzB,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC;AADlB,KAAd;AAII,QAAIS,IAAI,GAAG,IAAX;AAEA;AAKI,YAAMC,IAAI,GAAG;AAETb,QAAAA,KAAK,EAAG,KAAKtB,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC,EAFvB;AAGTnB,QAAAA,KAAK,EAAG,KAAKL,KAAL,CAAWU;AAHV,OAAb;AAKAQ,MAAAA,OAAO,CAACC,GAAR,CAAYe,IAAZ;AAEA,UAAIC,IAAI,GAAG;AACPC,QAAAA,kBAAkB,EAAG,KAAKrC,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC;AADtC,OAAX;AAIA,YAAMlC,KAAK,CAACmC,IAAN,CAAW,2DAAX,EAAwEU,IAAxE,EAA8E;AAA9E,OACLT,IADK,CACAC,GAAG,IAAI;AACTT,QAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACU,IAAhB;AACA,YAAIC,SAAS,GAAGX,GAAG,CAACU,IAAJ,CAASE,UAAzB;AACA,YAAIC,IAAI,GAAGb,GAAG,CAACU,IAAJ,CAAS3B,MAApB;AACA,YAAI+B,SAAS,GAAG,CAACD,IAAI,GAACF,SAAL,GAAe,KAAKtC,KAAL,CAAWU,MAA3B,KAAoC4B,SAAS,GAAC,CAA9C,CAAhB;AACAA,QAAAA,SAAS,IAAE,CAAX;AACA,YAAII,QAAQ,GAAG;AACXrB,UAAAA,KAAK,EAAC,KAAKtB,KAAL,CAAWuB,KAAX,CAAiBC,MAAjB,CAAwBC,EADnB;AAEXe,UAAAA,UAAU,EAACD,SAFA;AAGX5B,UAAAA,MAAM,EAAC+B;AAHI,SAAf;AAKA,aAAK1B,QAAL,CAAc;AACVL,UAAAA,MAAM,EAAC+B;AADG,SAAd;AAGAnD,QAAAA,KAAK,CAACmC,IAAN,CAAW,mDAAX,EAAgEiB,QAAhE,EAA0E;AAA1E,SACChB,IADD,CACMC,GAAG,IAAI;AACTT,UAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAG,CAACU,IAAhB,EADS,CAET;AAEH,SALD,EAMCR,KAND,CAMOC,GAAG,IACN;AACI;AACA;AACAZ,UAAAA,OAAO,CAACC,GAAR,CAAYW,GAAZ;AACH,SAXL,EAdS,CA0BT;AAEH,OA7BK,EA8BLD,KA9BK,CA8BCC,GAAG,IACN;AACI;AACA;AACAZ,QAAAA,OAAO,CAACC,GAAR,CAAYW,GAAZ;AACH,OAnCC,CAAN,CAhBJ,CA0DQ;AACA;AACA;;AACA,WAAK/B,KAAL,CAAW4C,OAAX,CAAmBC,IAAnB,CAAwB,eAAxB;AACP;AACR,GAvHiD,CAyHlD;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAEAC,EAAAA,MAAM,GAAG;AAEL,WAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMI;AAAM,MAAA,QAAQ,EAAE,KAAKhC,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAkC,MAAA,QAAQ,EAAE,KAAKF,cAAjD;AAAiE,MAAA,KAAK,EAAE,KAAKX,KAAL,CAAWU,MAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFJ,EAGI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAHJ,EAII;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAJJ,EAKI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WALJ,EAMI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WANJ,EAOI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAPJ,CAFJ,CADJ,EAcI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACO;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,KAA5B;AAAkC,MAAA,SAAS,EAAC,iBAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADP,CAdJ,CANJ,EAwBI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,CAxBJ,CAFJ;AAkCH;;AA7KiD","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport Button from 'react-bootstrap/esm/Button';\nimport { BrowserRouter as Router, Route, Link} from \"react-router-dom\";\n\n\nexport default class Rate_applicant extends Component {\n    \n    constructor(props) {\n        super(props);\n\n        this.state = {\n            applied_jobs:[],\n            job:[],\n            currentjob:[],\n            idid:'',\n            value:0,\n            sop:'',\n            lololol:false,\n            status:'not applied',\n            applicant_data:null,\n            rating:5,\n        }\n        // this.apply_job = this.apply_job.bind(this);\n        this.onChangerating = this.onChangerating.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    onChangerating(event){\n        this.setState({rating: event.target.rating});\n    }\n\n    componentDidMount(){\n        console.log(\"ko\")\n        const chunk = { \n            email: this.props.match.params.id,\n            // applicant_email: localStorage.getItem(\"user_email\"),\n            // recruiter_email: \n        }\n        console.log(this.props.match.params)\n        console.log(chunk)\n        axios.post('http://localhost:4000/router/opop',chunk)  //this is unused\n        .then(res => {\n            console.log(\"jii\")\n            var temper = 0;\n\n        })\n        .catch(err => {\n            console.log(err);\n        });\n        \n    }    \n    \n    async onSubmit(e){\n        e.preventDefault();\n        console.log(this.props.match.params.id)        \n        const chunk = {\n            id: this.props.match.params.id\n        }\n        \n            var veer = true;\n\n            {\n\n                \n\n\n                const yoyo = {\n\n                    email : this.props.match.params.id,\n                    value : this.state.rating\n                }\n                console.log(yoyo);\n\n                var temp = {\n                    applicant_ka_email : this.props.match.params.id,\n                }\n\n                await axios.post('http://localhost:4000/Applicant/get_an_applicant_by_email', temp) //no such route found\n                .then(res => {\n                    console.log(res.data);\n                    var ratecount = res.data.rate_count\n                    var rate = res.data.rating\n                    var newrating = (rate*ratecount+this.state.rating)/(ratecount+1)\n                    ratecount+=1\n                    var doupdate = {\n                        email:this.props.match.params.id,\n                        rate_count:ratecount,\n                        rating:newrating\n                    }\n                    this.setState({\n                        rating:newrating\n                    });\n                    axios.post('http://localhost:4000/Applicant/rate_an_applicant', doupdate) //no such route found\n                    .then(res => {\n                        console.log(res.data);\n                        // this.setState({jobs: res.data});\n                        \n                    })\n                    .catch(err =>\n                        {\n                            // if(err.response.data.message)\n                            // alert(err.response.data.message);\n                            console.log(err)\n                        });\n                    // this.setState({jobs: res.data});\n                    \n                })\n                .catch(err =>\n                    {\n                        // if(err.response.data.message)\n                        // alert(err.response.data.message);\n                        console.log(err)\n                    });\n\n\n\n                \n                \n              \n                    // this.setState({\n                    //     rating:newrating\n                    // });\n                    this.props.history.push('/job-listings');\n            }\n    }\n\n    // apply_job(e){\n    //     const datadata = {\n    //         applicant_email: localStorage.getItem('user_email'),\n    //         recruiter_email: this.state.job.email_recruiter,\n    //         job_id: this.props.match.params.id,\n\n    //     }\n    //     const u = this.props.match.params.yoyo;\n    //     console.log(u)\n    // }\n\n    // componentDidMount() {\n    //     const u = this.props.match.params.yoyo;\n    //     console.log(u)\n    // }\n\n    render() {\n\n        return (\n            \n            <div>\n                {/* {\n                    const kaha_jana = {\n                        pathname: \"/search_job\"\n                    }\n                } */}\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"form-group\">\n                        <label>rate: </label>\n                        <select className=\"form-control\"  onChange={this.onChangerating} value={this.state.rating}>\n                            {/* <option value=\"0\">pick type</option> */}\n                            <option value=\"0\">0</option>\n                            <option value=\"1\">1</option>\n                            <option value=\"2\">2</option>\n                            <option value=\"3\">3</option>\n                            <option value=\"4\">4</option>\n                            <option value=\"5\">5</option>\n                        </select>\n                    </div>\n\n                    <div className=\"form-group\">\n                        {  <input  type=\"submit\" value=\"add\" className=\"btn btn-primary\"  /> }\n                    </div>\n                </form>\n                <div className=\"form-group\">\n                    <p>hii</p>\n\n                </div>\n            </div>\n        )\n\n\n    }\n}\n"]},"metadata":{},"sourceType":"module"}