{"ast":null,"code":"var _jsxFileName = \"/home/sahithi/testit/mlh-abracadabra/frontend/src/components/Common/Joblistings.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios'; // import \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport Button from 'react-bootstrap/Button';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nexport default class Joblistings extends Component {\n  constructor(props) {\n    super(props); // this.deletejob = this.deletejob.bind(this)\n\n    this.deletejob = this.deletejob;\n    this.state = {\n      listings: []\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('user_type') === \"recruiter\" && localStorage.getItem('isloggedin') === \"true\") {\n      let email = localStorage.getItem('user_email');\n      const data_rec = {\n        email_rec: email\n      };\n      axios.post('http://localhost:4000/job/job/view', data_rec).then(response => {\n        console.log(response.data);\n        this.setState({\n          listings: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      alert(\"login first\");\n      this.props.history.push(\"/\");\n      window.location.reload();\n    }\n  }\n\n  deletejob(id) {\n    axios.post('http://localhost:4000/job/job/delete', {\n      'id': id\n    }).then(response => {\n      console.log(response.data);\n    });\n    this.setState({\n      listings: this.state.listings.filter(el => el._id !== id)\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table table-striped\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"title\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"date of posting\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"number of applicants\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"maximum number of positions\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"delete\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, this.state.listings.map((job, i) => {\n      const kaha_jana = {\n        pathname: \"/job-listings/\" + job._id\n      };\n      const jana_kaha = {\n        pathname: \"/edit-job/\" + job._id\n      };\n      return React.createElement(\"tr\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, job.title), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, job.date_of_posting, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, job.max_applications), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, job.max_positions), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \" \", React.createElement(Button, {\n        variant: \"danger\",\n        onClick: () => {\n          this.deletejob(job._id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Delete\")), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"    \", React.createElement(Link, {\n        to: kaha_jana,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Button, {\n        style: {\n          backgroundColor: 'red'\n        },\n        variant: \"contained\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"view\"))), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"    \", React.createElement(Link, {\n        to: jana_kaha,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Button, {\n        style: {\n          backgroundColor: 'yellow'\n        },\n        variant: \"contained\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"edit\"))));\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/sahithi/testit/mlh-abracadabra/frontend/src/components/Common/Joblistings.js"],"names":["React","Component","axios","Button","BrowserRouter","Router","Route","Link","Joblistings","constructor","props","deletejob","state","listings","componentDidMount","localStorage","getItem","email","data_rec","email_rec","post","then","response","console","log","data","setState","catch","error","alert","history","push","window","location","reload","id","filter","el","_id","render","map","job","i","kaha_jana","pathname","jana_kaha","title","date_of_posting","max_applications","max_positions","backgroundColor"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\n// import \"bootstrap/dist/css/bootstrap.min.css\";\nimport Button from 'react-bootstrap/Button'\nimport { BrowserRouter as Router, Route, Link} from \"react-router-dom\";\n\n\nexport default class Joblistings extends Component {\n    \n    constructor(props) {\n        super(props);\n        // this.deletejob = this.deletejob.bind(this)\n        this.state = {\n            listings: []\n        }\n    }\n\n    componentDidMount() {\n        if(localStorage.getItem('user_type') === \"recruiter\" && localStorage.getItem('isloggedin') === \"true\" ){\n            let email = localStorage.getItem('user_email');\n            const data_rec = {\n                email_rec: email\n            };\n            axios.post('http://localhost:4000/job/job/view', data_rec)\n            .then(response => {\n                console.log(response.data)\n                this.setState({listings: response.data});\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n        }\n        else{\n            alert(\"login first\");\n            this.props.history.push(\"/\");\n            window.location.reload();\n        }\n    }\n\n\n    deletejob(id) {\n        axios.post('http://localhost:4000/job/job/delete',{'id': id})\n        .then(response => { \n            console.log(response.data)\n        });\n        this.setState({\n          listings: this.state.listings.filter(el => el._id !== id)\n        })\n    }\n\n    deletejob = this.deletejob;\n\n    render() {\n        return (\n            <div>\n                <table className=\"table table-striped\">\n                    <thead>\n                        <tr>\n                            <th>title</th>\n                            <th>date of posting</th>\n                            <th>number of applicants</th>\n                            <th>maximum number of positions</th>\n                            <th>delete</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    { \n                        this.state.listings.map((job, i) => {\n                            const kaha_jana = {\n                                pathname: \"/job-listings/\"+job._id\n                            }\n                            const jana_kaha = {\n                                pathname: \"/edit-job/\"+job._id\n                            }\n                            return (\n                                <tr key={i} >\n                                    <td>{job.title}</td>\n                                    <td>{job.date_of_posting} </td>\n                                    <td>{job.max_applications}</td>\n                                    <td>{job.max_positions}</td>\n                                    <td> <Button variant=\"danger\" onClick={() => {this.deletejob(job._id) }}>Delete</Button></td>\n                                    <td>    <Link  to={kaha_jana} ><Button style = {{backgroundColor:'red'}} variant=\"contained\" >view</Button></Link></td>\n                                    <td>    <Link  to={jana_kaha} ><Button style = {{backgroundColor:'yellow'}} variant=\"contained\" >edit</Button></Link>\n                                    </td>\n                                </tr>\n                            )\n                        })\n                    }\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}