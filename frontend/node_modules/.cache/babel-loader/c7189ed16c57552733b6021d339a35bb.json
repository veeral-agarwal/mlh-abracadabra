{"ast":null,"code":"var _jsxFileName = \"/home/sahithi/testit/mlh-abracadabra/frontend/src/components/Common/Profileedit_applicant.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Card from '@material-ui/core/Card'; // import React, {Component} from 'react';\n// import axios from 'axios';\n\nimport bcrypt from 'bcryptjs'; // import TextField from 'material-ui/TextField';\n// import getMuiTheme from 'material-ui/styles/getMuiTheme'\n// import MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\n// import Paper from 'material-ui/Paper';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Avatar from '@material-ui/core/Avatar';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nexport default class Profileedit_recruiter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list_of_languages: '',\n      education: [],\n      institution: '',\n      startyear: '',\n      endyear: '',\n      image: '',\n      cv: '',\n      // contact_number:'',\n      name: ''\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChangelist_of_languages = this.onChangelist_of_languages.bind(this);\n    this.onChangeimage = this.onChangeimage.bind(this);\n    this.onChangecv = this.onChangecv.bind(this);\n    this.onChangeinstitution = this.onChangeinstitution.bind(this);\n    this.onChangestartyear = this.onChangestartyear.bind(this);\n    this.onChangeendyear = this.onChangeendyear.bind(this);\n    this.onSubmitEdu = this.onSubmitEdu.bind(this);\n    this.onChangename = this.onChangename.bind(this);\n  }\n\n  onChangelist_of_languages(event) {\n    this.setState({\n      list_of_languages: event.target.value\n    });\n  }\n\n  onChangeimage(event) {\n    this.setState({\n      image: event.target.files[0]\n    });\n    const formData = new FormData();\n    formData.append('file', event.target.files[0]);\n    axios.post('http://localhost:4000/applicant/addfile?type=image&email=' + localStorage.getItem('user_email'), formData).then(res => {\n      console.log(res.json);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  onChangecv(event) {\n    this.setState({\n      cv: event.target.value\n    });\n    const formData = new FormData();\n    formData.append('file', event.target.files[0]);\n    axios.post('http://localhost:4000/applicant/addfile?type=cv&email=' + localStorage.getItem('user_email'), formData).then(res => {\n      console.log(res.json);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  onChangestartyear(event) {\n    this.setState({\n      startyear: event.target.value\n    });\n  }\n\n  onChangeinstitution(event) {\n    this.setState({\n      institution: event.target.value\n    });\n  }\n\n  onChangeendyear(event) {\n    this.setState({\n      endyear: event.target.value\n    });\n  }\n\n  onChangename(event) {\n    this.setState({\n      name: event.target.value\n    });\n  }\n\n  componentDidMount() {\n    console.log(localStorage);\n    var mail = localStorage.getItem(\"user_email\");\n    console.log(mail);\n    axios.post('http://localhost:4000/applicant/get_an_applicant_by_email', {\n      \"applicant_ka_email\": mail\n    }).then(res => {\n      this.setState({\n        user: res.data\n      });\n      console.log(this.state.user);\n      this.setState({\n        name: this.state.user.name\n      });\n      this.setState({\n        email: this.state.user.email\n      });\n      this.setState({\n        education: this.state.user.education\n      });\n      this.setState({\n        list_of_languages: this.state.user.list_of_languages\n      });\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    console.log(\"lol\");\n    const newrec = {\n      list_of_languages: this.state.list_of_languages,\n      education: this.state.education,\n      email: localStorage.getItem('user_email'),\n      image: this.state.image,\n      cv: this.state.cv,\n      // contact_number:'',\n      name: this.state.name\n    }; // console.log(newJob);\n\n    console.log(localStorage.getItem('user_type'));\n    console.log(localStorage.getItem('isloggedin'));\n\n    if (localStorage.getItem('user_type') !== 'applicant' || localStorage.getItem('isloggedin') !== 'true') {\n      alert(\"please login first\");\n      this.props.history.push(\"/\");\n      window.location.reload();\n    } else {\n      console.log(newrec); // if(this.state.contact_number.length === 10 && this.state.bio.split(' ').length < 251){\n\n      axios.post('http://localhost:4000/applicant/edit_applicant_profile', newrec).then(res => {\n        alert(\"profile successfully edited\");\n        console.log(res.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n      axios.post('http://localhost:4000/user/updateuser', newrec).then(res => {\n        console.log(res.data);\n        localStorage.setItem('user_name', this.state.name);\n        console.log(localStorage);\n      }).catch(function (error) {\n        console.log(error);\n      }); // if(newrec.image != ''){\n      //     axios.post('http://localhost:4000/applicant/addfile?type=image&email=' + newrec.email, newrec.image )\n      //     .then(res => {\n      //         console.log(res.json);\n      //     })\n      //     .catch(err => {\n      //         console.log(err);\n      //     })\n      // }\n      // }\n      // else{\n      //     alert(\"number format is wrong or bio is too big (keep it under 251 words)\")\n      // }\n    }\n\n    this.setState({\n      list_of_languages: '',\n      education: [],\n      institution: '',\n      startyear: '',\n      endyear: '',\n      image: '',\n      cv: '',\n      // contact_number:'',\n      name: ''\n    });\n  }\n\n  onSubmitEdu(e) {\n    e.preventDefault();\n    const obj = {\n      institution: this.state.institution,\n      startyear: this.state.startyear,\n      endyear: this.state.endyear\n    };\n\n    if (this.state.institution === '' || this.state.startyear === '') {\n      alert(\"you cannot leave institution and startyear feild empty.\");\n    } else {\n      let e1 = this.state.education;\n      e1.push(obj);\n      this.setState({\n        education: e1,\n        institution: '',\n        startyear: '',\n        endyear: ''\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: 'http://localhost:4000/image/' + localStorage.getItem('user_email') + '.jpg',\n      width: \"300\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"name : \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.name,\n      onChange: this.onChangename,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"languages that you are comfortable in : \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.list_of_languages,\n      onChange: this.onChangelist_of_languages,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"add education\"), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"Institution: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.education.length == 0 ? console.log(\"yes\") : this.state.education[0].institution,\n      onChange: this.onChangeinstitution,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, \"Start Year: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.education.length == 0 ? console.log(\"yes\") : this.state.education[0].startyear,\n      onChange: this.onChangestartyear,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"End Year: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.education.length == 0 ? console.log(\"yes\") : this.state.education[0].endyear,\n      onChange: this.onChangeendyear,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"ADD\",\n      className: \"btn btn-primary\",\n      onClick: this.onSubmitEdu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, \"Select profile photo:\"), React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.onChangeimage // value={this.state.image}\n      ,\n      id: \"image\",\n      name: \"image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, \"upload cv\"), React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.onChangecv // value={this.state.image}\n      ,\n      id: \"file\",\n      name: \"file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"update profile\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"iframe\", {\n      src: 'http://localhost:4000/cv/' + localStorage.getItem('user_email') + '.pdf#zoom=FitH',\n      width: \"400\",\n      height: \"533\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \" \")));\n  }\n\n}","map":{"version":3,"sources":["/home/sahithi/testit/mlh-abracadabra/frontend/src/components/Common/Profileedit_applicant.js"],"names":["React","Component","axios","Card","bcrypt","CssBaseline","Avatar","Container","Typography","Button","Profileedit_recruiter","constructor","props","state","list_of_languages","education","institution","startyear","endyear","image","cv","name","onSubmit","bind","onChangelist_of_languages","onChangeimage","onChangecv","onChangeinstitution","onChangestartyear","onChangeendyear","onSubmitEdu","onChangename","event","setState","target","value","files","formData","FormData","append","post","localStorage","getItem","then","res","console","log","json","catch","err","componentDidMount","mail","user","data","email","e","preventDefault","newrec","alert","history","push","window","location","reload","error","setItem","obj","e1","render","length"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport Card from '@material-ui/core/Card'\n// import React, {Component} from 'react';\n// import axios from 'axios';\nimport bcrypt from 'bcryptjs';\n// import TextField from 'material-ui/TextField';\n// import getMuiTheme from 'material-ui/styles/getMuiTheme'\n// import MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\n// import Paper from 'material-ui/Paper';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Avatar from '@material-ui/core/Avatar';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\n\nexport default class Profileedit_recruiter extends React.Component {\n    \n    constructor(props) {\n        super(props);\n\n        this.state = {\n         \n            list_of_languages:'',\n            education: [],\n            institution:'',\n            startyear:'',\n            endyear:'',\n            image:'',\n            cv:'',\n            // contact_number:'',\n            name:''\n        }\n        \n        this.onSubmit = this.onSubmit.bind(this);\n        this.onChangelist_of_languages = this.onChangelist_of_languages.bind(this);\n        this.onChangeimage = this.onChangeimage.bind(this);\n        this.onChangecv = this.onChangecv.bind(this);\n        this.onChangeinstitution = this.onChangeinstitution.bind(this);\n        this.onChangestartyear = this.onChangestartyear.bind(this);\n        this.onChangeendyear = this.onChangeendyear.bind(this);\n        this.onSubmitEdu = this.onSubmitEdu.bind(this);\n        this.onChangename = this.onChangename.bind(this);\n    }\n    \n    onChangelist_of_languages(event) {\n        this.setState({ list_of_languages: event.target.value });\n    }\n\n    onChangeimage(event) {\n        this.setState({ image: event.target.files[0] });\n        const formData = new FormData();\n        formData.append('file', event.target.files[0]);\n            axios.post('http://localhost:4000/applicant/addfile?type=image&email=' + localStorage.getItem('user_email'), formData)\n            .then(res => {\n                console.log(res.json);\n            })\n            .catch(err => {\n                console.log(err);\n            });\n    }\n\n    onChangecv(event){\n        this.setState({cv : event.target.value});\n        const formData = new FormData();\n        formData.append('file', event.target.files[0]);\n            axios.post('http://localhost:4000/applicant/addfile?type=cv&email=' + localStorage.getItem('user_email'), formData)\n            .then(res => {\n                console.log(res.json);\n            })\n            .catch(err => {\n                console.log(err);\n            });\n    }\n\n    onChangestartyear(event){\n        this.setState({startyear : event.target.value});\n        \n    }\n\n    onChangeinstitution(event){\n        this.setState({institution : event.target.value});\n    }\n\n    onChangeendyear(event){\n        this.setState({endyear : event.target.value});\n    }\n\n    onChangename(event){\n        this.setState({name: event.target.value});\n    }\n    componentDidMount()\n    {   \n        console.log(localStorage)\n        var mail=localStorage.getItem(\"user_email\")\n        console.log(mail)\n        axios.post('http://localhost:4000/applicant/get_an_applicant_by_email',{\"applicant_ka_email\":mail})\n        .then(res => {this.setState({user:res.data})\n        console.log(this.state.user)\n        this.setState({name:this.state.user.name})\n        this.setState({email:this.state.user.email})\n        this.setState({education:this.state.user.education})\n        this.setState({list_of_languages:this.state.user.list_of_languages})\n     \n\n    })\n   \n    };\n  \n    onSubmit(e) {\n        e.preventDefault();\n        console.log(\"lol\")\n        const newrec = {\n            \n            list_of_languages:this.state.list_of_languages,\n            education: this.state.education,\n            email: localStorage.getItem('user_email'),\n            image:this.state.image,\n            cv:this.state.cv,\n            // contact_number:'',\n            name:this.state.name\n        }\n\n        // console.log(newJob);\n        console.log(localStorage.getItem('user_type'));\n        console.log(localStorage.getItem('isloggedin'));\n        if(localStorage.getItem('user_type') !== 'applicant' || localStorage.getItem('isloggedin') !== 'true'){\n            alert(\"please login first\");\n            this.props.history.push(\"/\");\n            window.location.reload();\n        }       \n        else{\n            console.log(newrec);\n            // if(this.state.contact_number.length === 10 && this.state.bio.split(' ').length < 251){\n                axios.post('http://localhost:4000/applicant/edit_applicant_profile',newrec)\n                .then(res => {\n                    alert(\"profile successfully edited\");\n                    console.log(res.data)\n\n                })\n                .catch(function(error) {\n                    console.log(error);\n                });\n                axios.post('http://localhost:4000/user/updateuser',newrec)\n                .then(res => {\n                    \n                    console.log(res.data)\n                    localStorage.setItem('user_name', this.state.name);\n                    console.log(localStorage)\n                })\n                .catch(function(error) {\n                    console.log(error);\n                })\n            \n            // if(newrec.image != ''){\n            //     axios.post('http://localhost:4000/applicant/addfile?type=image&email=' + newrec.email, newrec.image )\n            //     .then(res => {\n            //         console.log(res.json);\n            //     })\n            //     .catch(err => {\n            //         console.log(err);\n            //     })\n            // }\n            // }\n            // else{\n            //     alert(\"number format is wrong or bio is too big (keep it under 251 words)\")\n            // }\n        }\n        this.setState({\n           \n            list_of_languages:'',\n            education: [],\n            institution:'',\n            startyear:'',\n            endyear:'',\n            image:'',\n            cv:'',\n            // contact_number:'',\n            name:''\n        });\n    }\n\n    onSubmitEdu(e){\n        e.preventDefault();\n        const obj = {\n            institution: this.state.institution,\n            startyear: this.state.startyear,\n            endyear: this.state.endyear\n        }\n\n        if(this.state.institution === '' || this.state.startyear === ''){\n            alert(\"you cannot leave institution and startyear feild empty.\")\n        }\n        else{\n            let e1 = this.state.education;\n            e1.push(obj);\n            this.setState({\n            education: e1,\n            institution: '',\n            startyear: '',\n            endyear: ''\n        });\n        }\n        \n    }\n\n    render() {\n        return (\n            <div>\n                <Card>\n                    <img src={'http://localhost:4000/image/' + localStorage.getItem('user_email') + '.jpg'} width='300'/>\n                </Card>\n                <div className=\"form-group\">\n                    <label>name : </label>\n                    <input type=\"text\" \n                        className=\"form-control\" \n                        value={this.state.name}\n                        onChange={this.onChangename}\n                    />\n                    <label>languages that you are comfortable in : </label>\n                    <input type=\"text\" \n                        className=\"form-control\" \n                        value={this.state.list_of_languages}\n                        onChange={this.onChangelist_of_languages}\n                    />\n                    <form onSubmit={this.onSubmit} >\n                        <div className=\"form-group\">\n                            <h3>add education</h3>\n                            <label>Institution: </label>\n                            <input type=\"text\" \n                               className=\"form-control\" \n                               value={this.state.education.length ==0 ? console.log(\"yes\"):this.state.education[0].institution}\n                               onChange={this.onChangeinstitution}\n                            />  \n                            <label>Start Year: </label>\n                            <input type=\"text\" \n                            className=\"form-control\" \n                            value={this.state.education.length ==0 ? console.log(\"yes\"):this.state.education[0].startyear}\n                            onChange={this.onChangestartyear}\n                            />\n                            <label>End Year: </label>\n                            <input type=\"text\" \n                               className=\"form-control\" \n                               value={this.state.education.length ==0 ? console.log(\"yes\"):this.state.education[0].endyear}\n                               onChange={this.onChangeendyear}\n                            />\n                            <div className=\"form-group\">\n                            <div className=\"form-group\">\n                                <input type=\"submit\" value=\"ADD\" className=\"btn btn-primary\" onClick={this.onSubmitEdu}/>\n                            </div>\n                            <label>Select profile photo:</label>\n                            {/* <br></br>\n                            <br></br> */}\n                                <input\n                                    type=\"file\"\n                                    onChange={this.onChangeimage}\n                                    // value={this.state.image}\n                                    id=\"image\"\n                                    name=\"image\"\n                                ></input>\n                            </div>\n                            <div className=\"form-group\">\n                            <label>upload cv</label>\n                            {/* <br></br>\n                            <br></br> */}\n                                <input\n                                    type=\"file\"\n                                    onChange={this.onChangecv}\n                                    // value={this.state.image}\n                                    id=\"file\"\n                                    name=\"file\"\n                                ></input>\n                            </div>\n                            <div className=\"form-group\">\n                                <input type=\"submit\" value=\"update profile\" className=\"btn btn-primary\"/>\n                            </div>\n                            \n                        </div>\n                    </form>\n                </div>\n                <div>\n                <iframe src={'http://localhost:4000/cv/' + localStorage.getItem('user_email') + '.pdf#zoom=FitH'} width=\"400\" height=\"533\"> </iframe>\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}